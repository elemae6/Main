# 데드락   
#### 데드락이란?   
- 프로세스의 집합에 있는 각각의 프로세스가 그 집합에 있는 또다른 프로세스만이 일으킬 수 있는 사건을 기다리는 상황
- 기다리는 쓰레드(혹은 프로세스)가 상태를 절대 안 바꾸는 상황
- 요청한 자원이 다른 대기하는 쓰레드(혹은 프로세스)에 의해 잡혀있기 때문이다.

#### 데드락이 발생할 필수적인 조건   
- 상호 배제 : 적어도 한 자원이 공유가 불가능한 상태
- 점유와 대기 : 적어도 쓰레드 중 한개가 자원을 하나 잡고 있고, 다른 쓰레드에 의해 잡혀 있는 자원을 기다리는 상태
- 비선점 : 자원이 선점이 불가하다
- 순환 대기 : 대기하는 쓰레드 집합의 의존 그래프가 순환적이다. (자원 할당 그래프가 순확적이다)
  - 자원 할당 그래프가 순환적이지 않으면 데드락은 발생하지 않는다.
  - 자원 할당 그래프가 순환적이면 데드락은 발생할 수도 있고, 발생 안할 수도 있다.

#### 데드락 다루는 방법   
- 데드락을 다루는 세가지 방법
  - 그냥 무시한다 (어차피 일년에 두 세번정도 적게 일어나기 때문에)
  - 프로토콜을 사용하여 예방하거나 회피한다
  - 발생하게 내버려둔 후, 발견하면 예방한다.

#### 데드락 예방 방법   
- 상호 배제 방지 : 일반적으로 적용 불가. mutex lock 같은 경우는 여러개의 쓰레드로부터 공유되면 안된다. 
- 점유와 대기 : 쓰레드가 자원을 요청하려면 가지고 있는 자원을 다 내려놓는 방법인데 비현실적이다.
- 비선점 : 일반적으로 적용 불가. 선점당한 쓰레드가 문제를 일으킬 수 있다.
- 순환 대기 방지 : 때때로 타당하다. 하지만 안될 때도 있다.
  => 결국 예방하지말고, 뱅커 알고리즘으로 피해버리자.
  
