컨텍스트 스위칭(Context Switching)은 현재 실행 중인 프로세스에서 다른 프로세스로 CPU의 제어권을 전환하는 과정을 의미합니다. 이 때, 현재 실행 중인 프로세스의 상태(컨텍스트)는 해당 프로세스의 Process Control Block(PCB)에 저장되며, 다음에 해당 프로세스가 다시 CPU를 할당받았을 때 이 정보를 바탕으로 이전 상태로 복구하여 실행을 계속하게 됩니다.

컨텍스트 스위칭은 다음과 같은 과정을 포함합니다:

1. 현재 실행 중인 프로세스의 상태를 그 프로세스의 PCB에 저장합니다.
2. 다음에 실행될 프로세스를 결정합니다 (스케줄러의 역할).
3. 선택된 프로세스의 PCB에서 상태 정보를 불러와 CPU의 레지스터와 프로그램 카운터를 설정합니다.
4. 이제 선택된 프로세스의 실행을 재개합니다.

컨텍스트 스위칭은 선점형 스케줄링에서 특히 중요한데, 예를 들어, 하나의 프로세스가 실행 중일 때 더 높은 우선순위의 프로세스가 실행될 준비가 되었을 때, 운영체제는 현재 프로세스를 중단하고 높은 우선순위의 프로세스로 전환해야 합니다. 이러한 전환을 위해서는 컨텍스트 스위칭이 필요합니다.

컨텍스트 스위칭은 오버헤드를 발생시키므로, 빈번한 컨텍스트 스위칭은 시스템 성능에 부정적인 영향을 줄 수 있습니다. 따라서 CPU 스케줄링 알고리즘의 설계 시 이러한 오버헤드를 최소화하는 것이 중요합니다.


---

스레드는 프로세스 내에서 실행되는 작은 실행 단위이며, 프로세스 내의 스레드들 사이에서도 컨텍스트 스위칭이 발생할 수 있습니다. 이를 통해 멀티스레딩이 가능하게 됩니다.

스레드 간의 컨텍스트 스위칭은 프로세스 간의 컨텍스트 스위칭보다 일반적으로 비용이 덜 듭니다. 왜냐하면 스레드는 동일한 프로세스 내에서 실행되므로, 많은 메모리 관련 정보 (예: 페이지 테이블)를 공유하게 됩니다. 따라서 스레드 간의 컨텍스트 스위칭은 주로 CPU 레지스터, 프로그램 카운터, 스택 포인터와 같은 정보만 변경하면 됩니다.

멀티스레딩은 특히 I/O 바운드 작업이나 병렬 처리가 가능한 작업에 유용합니다. 하나의 스레드가 I/O 작업을 기다리는 동안 다른 스레드가 계속 실행될 수 있기 때문에 전체적인 시스템의 처리량과 응답 시간을 향상시킬 수 있습니다.

그러나 멀티스레딩에도 단점이 있습니다. 스레드 간의 데이터 공유와 동기화 문제가 복잡해질 수 있으며, 이로 인해 버그 발생 가능성이 높아질 수 있습니다.